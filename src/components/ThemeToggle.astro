<button
  id="theme-toggle"
  class="rounded-full border border-neutral-700 bg-neutral-900 px-3 py-1 text-xs text-neutral-300 transition hover:bg-neutral-800"
  aria-label="Toggle theme"
>
  <span id="theme-icon">ðŸŒ™</span>
</button>

<script is:inline>
  const toggle = document.getElementById('theme-toggle');
  const icon = document.getElementById('theme-icon');
  const html = document.documentElement;

  function getTheme() {
    return localStorage.getItem('theme') || 'dark';
  }

  function applyTheme(theme) {
    if (theme === 'light') {
      html.classList.remove('dark');
      html.classList.add('light');
      icon.textContent = 'â˜€ï¸';
    } else {
      html.classList.remove('light');
      html.classList.add('dark');
      icon.textContent = 'ðŸŒ™';
    }
  }

  applyTheme(getTheme());

  toggle.addEventListener('click', () => {
    const next = getTheme() === 'dark' ? 'light' : 'dark';
    localStorage.setItem('theme', next);
    applyTheme(next);
  });
</script>